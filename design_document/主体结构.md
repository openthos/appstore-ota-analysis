
# 主体结构
- 以一个Activity为主题，其余通过Fragment的互相切换来实现

### 主要实现点

- 四个按钮的切换显示

  在这里，这四个用来切换页面的按钮主要是使用了Button，而没有用RadioButton，因为使用RadioButton的时候不能重复点击
  - 布局代码如下：
  
        <LinearLayout
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="2"
            android:gravity="center"
            android:layout_gravity="center">

            <Button
                android:id="@+id/rb_home"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                style="@style/Main_Button"
                android:text="@string/home"
                />
            <Button
                android:id="@+id/rb_software"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                style="@style/Main_Button"
                android:layout_marginLeft="20dp"
                android:text="@string/software"
                />
            <Button
                android:id="@+id/rb_game"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                style="@style/Main_Button"
                android:layout_marginLeft="20dp"
                android:text="@string/game"
                />
            <Button
                android:id="@+id/rb_manager"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                style="@style/Main_Button"
                android:layout_marginLeft="20dp"
                android:text="@string/manager"
                />
        </LinearLayout>
        
  - 每个小Button前面的图片设置是通过加载drawable对象来实现
  
        int[] drawables = new int[] {
                R.drawable.select_home_drawable,
                R.drawable.select_software_drawable,
                R.drawable.select_game_drawable,
                R.drawable.select_manager_drawable
        };
        int[] rids = new int[] {
                R.id.rb_home,
                R.id.rb_software,
                R.id.rb_game,
                R.id.rb_manager
        };
        Resources res = getResources();
        for (int i = 0; i < rids.length; i++) {
            Button rb = (Button) findViewById(rids[i]);
            rb.setOnClickListener(this);
            Drawable drawable = res.getDrawable(drawables[i]);
            drawable.setBounds(0, 0, Constants.DRAWABLE_SIZE, Constants.DRAWABLE_SIZE);
            rb.setCompoundDrawablePadding(Constants.DRAWABLE_PADDING);
            rb.setCompoundDrawables(drawable, null, null, null);
        }
        
  - 每个Button的点击的颜色切换以及页面跳转。previousButton是记录的上一次的按钮，currentButton是当前的按钮，以此来进行选中背景的选择。点击点击点击每个条目的时候通过Handler来发消息序列，进而进行界面刷新。
  
        class HomeItemClick implements View.OnClickListener {
            @Override
            public void onClick(View view) {
                currentButton = (Button) view;
                if (currentButton != previousButton) {
                    currentButton.setTextColor(getResources().getColor(R.color.blue));
                    if (previousButton != null) {
                        previousButton.setTextColor(getResources().getColor(R.color.gray));
                    }
                    previousButton = currentButton;
                    switch (view.getId()) {
                        case R.id.rb_home:
                            sendMessage(Constants.HOME_FRAGMENT, null);
                            break;
                        case R.id.rb_software:
                            sendMessage(Constants.SOFTWARE_FRAGMENT, null);
                            break;
                        case R.id.rb_game:
                            sendMessage(Constants.GAME_FRAGMENT, null);
                            break;
                        case R.id.rb_manager:
                            sendMessage(Constants.MANAGER_FRAGMENT, null);
                            break;
                    }
                }
            }
        }
        
        public static void sendMessage(int what, String obj) {
            mHandler.sendMessage(mHandler.obtainMessage(what, obj));
        }
- Handler的各种传值进行数据刷新

- 下载数据的保存结构
